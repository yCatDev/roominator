@page "/apppage"
@using System.Threading.Tasks;
@inject NavigationManager NavManager

@code {

    private void StartupMethod()
    {
        if (Program.mobileHelper.GetEntry() == Entry.Unknown)
        {
            Program.mobileHelper.SetEntry(Entry.APK);
        }
        if (NavManager.Uri.Contains("localhost"))
        {
            NavManager.NavigateTo("https://localhost:5000/menu");
        }
        else
        {
            NavManager.NavigateTo("https://roominator-nure.herokuapp.com/menu");
        }
    }

    private Task StartupTask()
    {
        return Task.CompletedTask;
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        StartupMethod();
        await StartupTask();
        await base.OnAfterRenderAsync(firstRender);
    }

}
